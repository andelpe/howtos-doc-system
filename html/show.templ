%(pre)s

<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
<script>
 window.onload = function() {
   $("#removeLink").click(function(){
     if (confirm("Are you sure you want to delete this Howto?.")){
       // go to delete URL
       location.href="/cgi-bin/howtos/howtos.py?id=%(id)s&action=remove";
     } 
     else{
       // just stay
     };
   });
   
//   $("#removeLink").confirm({
//      text: "Are you sure you want to delete this Howto",
//      title: "Confirmation required",
//      confirm: function() { 
//         delete(); 
//      },
//      cancel: function() { }
//   });

   $("#editKwords").click(function(){
      $("#keywords").html("\
        <form action=\"howtos.py\" method=\"post\">\
          <input type=\"hidden\" name=\"id\" value=\"%(id)s\"/>\
          <input type=\"hidden\" name=\"replace\" value=\"yes\"/>\
          <input type=\"hidden\" name=\"action\" value=\"changeKwords\"/>\
          Kwords: <input type=\"text\" class=\"add\" id=\"newkwords\" name=\"keywords\" value=\"%(kwords)s\"/>\
          <br/>(comma-separated) \
          <div class=\"dropdown\">\
            <button onclick=\"return false;\">+</button>\
            <div class=\"dropdown-content\">\
               %(commonKwords)s\
            </div>\
          </div>\
          <center>\
          <input type=\"button\" id=\"cancelEditKwords\" class=\"add\" value=\"Cancel\" />\
          <input type=\"submit\" name=\"changeKwords\" class=\"add\" value=\"Save\" />\
          </center>\
        </form>\
      "
      ) ;

      $("#cancelEditKwords").click(function(){
         location.href="/cgi-bin/howtos/howtos.py?id=%(id)s";
      });
   
   });

   $("#editName").click(function(){
      $("#name").html("\
        <form action=\"howtos.py\" method=\"post\">\
          <input type=\"hidden\" name=\"id\" value=\"%(id)s\"/>\
          <input type=\"hidden\" name=\"action\" value=\"changeName\"/>\
          Name: <input type=\"text\" class=\"add\" name=\"name\" value=\"%(title)s\"/>\
          <br/> \
          <center>\
          <input type=\"button\" id=\"cancelEditName\" class=\"add\" value=\"Cancel\" />\
          <input type=\"submit\" name=\"changeName\" class=\"add\" value=\"Save\" />\
          </center>\
        </form>\
      "
      ) ;

      $("#cancelEditName").click(function(){
         $("#name").html(" &emsp; &emsp; %(title)s");
      });
   
   }); // end of editName.click

   $("#editCreator").click(function(){
      $("#creator").html("\
        <form action=\"howtos.py\" method=\"post\">\
          <input type=\"hidden\" name=\"id\" value=\"%(id)s\"/>\
          <input type=\"hidden\" name=\"action\" value=\"changeCreator\"/>\
          Creator: <input size=9 type=\"text\" class=\"add\" name=\"author\" value=\"%(creator)s\"/>\
          <br/> \
          <center>\
          <input type=\"button\" id=\"cancelEditCreator\" class=\"add\" value=\"Cancel\" />\
          <input type=\"submit\" name=\"changeCreator\" class=\"add\" value=\"Save\" />\
          </center>\
        </form>\
      "
      ) ;

      $("#cancelEditCreator").click(function(){
         $("#creator").html("<li>Creator: &nbsp;%(creator)s</li>");
      });
   
   }); // end of editCreator.click

 } // end of window.onload

 function addKword(value){
   $("#newkwords").val(value + ',' + $("#newkwords").val());
 }
</script>

</head>
<body>

<table class="whole" style="table-layout: fixed; width: 100%%;">

<!-- This colgroup things defines the widths for body and attribs later -->
<colgroup>
  <col style="width: auto;">
  <col style="width: 8cm;">
</colgroup>

<tr class="whole">
<td class="whole">
%(docline)s
<center> 
 <div class="dropdown">
   <button>Format</button>
   <div class="dropdown-content">
     <a href="/cgi-bin/howtos/howtos.py?id=%(id)s&format=rst">Rst</a>
     <a href="/cgi-bin/howtos/howtos.py?id=%(id)s&format=markdown">Markdown</a>
     <a href="/cgi-bin/howtos/howtos.py?id=%(id)s&format=twiki">Twiki</a>
     <a href="/cgi-bin/howtos/howtos.py?id=%(id)s&format=pdf">PDF</a>
   </div>
 </div> &emsp; &emsp; 
 <a href="/cgi-bin/howtos/howtos.py">Back Home</a> &emsp; &emsp;
 <div class="dropdown">
   <button onclick="window.location.href='/cgi-bin/howtos/howtos.py?id=%(id)s&action=edit&format=rst'">Edit</button>
   <div class="dropdown-content">
     <a href="/cgi-bin/howtos/howtos.py?id=%(id)s&action=edit&format=rst">Rst</a>
     <a href="/cgi-bin/howtos/howtos.py?id=%(id)s&action=edit&format=markdown">Markdown</a>
   </div> 
 </div> &emsp; &emsp; 
 <button onclick="window.location.href='/cgi-bin/howtos/howtos.py?id=%(id)s&action=remove'">Remove</button>
</center>
</td>
</tr>

<tr class="whole">
<td class="whole">

%(most)s

</td>

<td class="meta">
<p class="topic-title first">&nbsp; Name: &ensp; <a id="editName"><font size="4" color="red">Edit</font></a></p>
<div id="name"> 
&emsp; &emsp;  %(title)s
</div>
<p class="topic-title first">&nbsp; Keywords: &ensp; <a id="editKwords"><font size="4" color="red">Edit</font></a></p>
<div id="keywords"> 
<ul>
%(kwordList)s
<!--<li>some keyword here</li>-->
</ul>
</div>
<p class="topic-title first">&nbsp; Attributes:</p>
<ul>
<li>Id: &nbsp;%(id)s</li>
<li>Version: &nbsp;%(version)s</li>
<div id="creator"> 
<li>Creator: &nbsp;%(creator)s &ensp; <a id="editCreator"><font color="red"><b>Edit</b></font></a></li>
</div>
<li>Last updater: &nbsp;%(lastUpdater)s</li>
<br/>
<li>Change time: &nbsp;%(changeTime)s</li>
<li>HTML time: &nbsp;%(htmlTime)s</li>
<li>ReST size: &nbsp;%(rstSize)s chars</li>
<li>HTML size: &nbsp;%(htmlSize)s chars</li>
</ul>
</td>

</tr>
</table>

</body>
</html>
